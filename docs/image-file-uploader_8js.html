<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MakerLabs ACM: webcomponents/src/image-file-uploader.js File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="https://unpkg.com/mermaid@8.0.0/dist/mermaid.min.js"></script>
<script>
  mermaid.initialize({
    startOnLoad: true,
    flowchart:{
      useMaxWidth: true,
      htmlLabels: true,
    },
  });
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MakerLabs ACM
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('image-file-uploader_8js.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">image-file-uploader.js File Reference<div class="ingroups"><a class="el" href="group__webcomponents.html">webcomponents/</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Define WebComponent: <a class="el" href="class_image_file_uploader.html" title="WebComponent which displays an image, and also supports uploading a new image to Google Drive via dra...">ImageFileUploader</a>, register it as &lt;image-file-uploader /&gt;  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Define WebComponent: <a class="el" href="class_image_file_uploader.html" title="WebComponent which displays an image, and also supports uploading a new image to Google Drive via dra...">ImageFileUploader</a>, register it as &lt;image-file-uploader /&gt; </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_file_uploader.html">ImageFileUploader</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">WebComponent which displays an image, and also supports uploading a new image to Google Drive via drag n' drop, or a file picker window.  <a href="class_image_file_uploader.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8163cbc03f1641d17bc72c8e339777fc"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#a8163cbc03f1641d17bc72c8e339777fc">RetryHandler</a></td></tr>
<tr class="separator:a8163cbc03f1641d17bc72c8e339777fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55508db5e48a48b494587d3e82848cdc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="image-file-uploader_8js.html#a8163cbc03f1641d17bc72c8e339777fc">RetryHandler</a> prototype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#a55508db5e48a48b494587d3e82848cdc">retry</a></td></tr>
<tr class="separator:a55508db5e48a48b494587d3e82848cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd77b7a75fe5036559762bd26bf1f0a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="image-file-uploader_8js.html#a8163cbc03f1641d17bc72c8e339777fc">RetryHandler</a> prototype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#afd77b7a75fe5036559762bd26bf1f0a4">reset</a></td></tr>
<tr class="separator:afd77b7a75fe5036559762bd26bf1f0a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d0f829605bc197381ff647e73d393a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="image-file-uploader_8js.html#a8163cbc03f1641d17bc72c8e339777fc">RetryHandler</a> prototype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#a1d0f829605bc197381ff647e73d393a0">nextInterval_</a></td></tr>
<tr class="separator:a1d0f829605bc197381ff647e73d393a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb831c0c589369cbafd2a8a1027a0da1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="image-file-uploader_8js.html#a8163cbc03f1641d17bc72c8e339777fc">RetryHandler</a> prototype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#aeb831c0c589369cbafd2a8a1027a0da1">getRandomInt_</a></td></tr>
<tr class="separator:aeb831c0c589369cbafd2a8a1027a0da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e335fa1410b45178c7e206b5f6f7936"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a></td></tr>
<tr class="separator:a4e335fa1410b45178c7e206b5f6f7936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba538b0921c2d62fe96e26a34000c428"><td class="memItemLeft" align="right" valign="top"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#aba538b0921c2d62fe96e26a34000c428">upload</a></td></tr>
<tr class="separator:aba538b0921c2d62fe96e26a34000c428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75c9bc5c290e18e07bec57e957cd3db6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#a75c9bc5c290e18e07bec57e957cd3db6">sendFile_</a></td></tr>
<tr class="separator:a75c9bc5c290e18e07bec57e957cd3db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc531c45e492d90476519b6ce7ee4cc1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#adc531c45e492d90476519b6ce7ee4cc1">resume_</a></td></tr>
<tr class="separator:adc531c45e492d90476519b6ce7ee4cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb85d5b4707cc852b7ecb7ada26cb9cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#adb85d5b4707cc852b7ecb7ada26cb9cd">extractRange_</a></td></tr>
<tr class="separator:adb85d5b4707cc852b7ecb7ada26cb9cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fa14d03e1514627905dd794a04a1de8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#a2fa14d03e1514627905dd794a04a1de8">onContentUploadSuccess_</a></td></tr>
<tr class="separator:a2fa14d03e1514627905dd794a04a1de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3779817ee57984150f2931d6d83fcb96"><td class="memItemLeft" align="right" valign="top"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#a3779817ee57984150f2931d6d83fcb96">onContentUploadError_</a></td></tr>
<tr class="separator:a3779817ee57984150f2931d6d83fcb96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82fab5cd0b3d8c22b4fae78c2c5774f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#a82fab5cd0b3d8c22b4fae78c2c5774f7">onUploadError_</a></td></tr>
<tr class="separator:a82fab5cd0b3d8c22b4fae78c2c5774f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8211cdba84481c6b75b8ef404b40829"><td class="memItemLeft" align="right" valign="top"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#af8211cdba84481c6b75b8ef404b40829">buildQuery_</a></td></tr>
<tr class="separator:af8211cdba84481c6b75b8ef404b40829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3c70638d6d7a6cc4b8996b57f17b628"><td class="memItemLeft" align="right" valign="top"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image-file-uploader_8js.html#aa3c70638d6d7a6cc4b8996b57f17b628">buildUrl_</a></td></tr>
<tr class="separator:aa3c70638d6d7a6cc4b8996b57f17b628"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af8211cdba84481c6b75b8ef404b40829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8211cdba84481c6b75b8ef404b40829">&#9670;&nbsp;</a></span>buildQuery_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype buildQuery_</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>(params) {</div><div class="line">  params = params || {};</div><div class="line">  <span class="keywordflow">return</span> Object.keys(params)</div><div class="line">    .map(<span class="keyword">function</span>(key) {</div><div class="line">      <span class="keywordflow">return</span> encodeURIComponent(key) + <span class="stringliteral">&quot;=&quot;</span> + encodeURIComponent(params[key]);</div><div class="line">    })</div><div class="line">    .join(<span class="stringliteral">&quot;&amp;&quot;</span>);</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
<a id="aa3c70638d6d7a6cc4b8996b57f17b628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3c70638d6d7a6cc4b8996b57f17b628">&#9670;&nbsp;</a></span>buildUrl_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype buildUrl_</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>(id, params, baseUrl) {</div><div class="line">  var <a class="code" href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a> = baseUrl || <span class="stringliteral">&quot;https://www.googleapis.com/upload/drive/v2/files/&quot;</span>;</div><div class="line">  <span class="keywordflow">if</span> (<span class="keywordtype">id</span>) {</div><div class="line">    <a class="code" href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a> += id;</div><div class="line">  }</div><div class="line">  var query = this.<a class="code" href="image-file-uploader_8js.html#af8211cdba84481c6b75b8ef404b40829">buildQuery_</a>(params);</div><div class="line">  <span class="keywordflow">if</span> (query) {</div><div class="line">    <a class="code" href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a> += <span class="stringliteral">&quot;?&quot;</span> + query;</div><div class="line">  }</div><div class="line">  <span class="keywordflow">return</span> <a class="code" href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a>;</div><div class="line">}</div><div class="ttc" id="image-file-uploader_8js_html_af8211cdba84481c6b75b8ef404b40829"><div class="ttname"><a href="image-file-uploader_8js.html#af8211cdba84481c6b75b8ef404b40829">buildQuery_</a></div><div class="ttdeci">MediaUploader prototype buildQuery_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:486</div></div>
<div class="ttc" id="oauth-server_8js_html_a2559a53ca37d96674249ead8fbf17159"><div class="ttname"><a href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a></div><div class="ttdeci">const url</div><div class="ttdef"><b>Definition:</b> oauth-server.js:20</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adb85d5b4707cc852b7ecb7ada26cb9cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb85d5b4707cc852b7ecb7ada26cb9cd">&#9670;&nbsp;</a></span>extractRange_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype extractRange_</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>(xhr) {</div><div class="line">  var range = xhr.getResponseHeader(<span class="stringliteral">&quot;Range&quot;</span>);</div><div class="line">  <span class="keywordflow">if</span> (range) {</div><div class="line">    this.offset = parseInt(range.match(/\d+/g).pop(), 10) + 1;</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
<a id="aeb831c0c589369cbafd2a8a1027a0da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb831c0c589369cbafd2a8a1027a0da1">&#9670;&nbsp;</a></span>getRandomInt_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="image-file-uploader_8js.html#a8163cbc03f1641d17bc72c8e339777fc">RetryHandler</a> prototype getRandomInt_</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>(min, max) {</div><div class="line">  <span class="keywordflow">return</span> Math.floor(Math.random() * (max - min + 1) + min);</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
<a id="a4e335fa1410b45178c7e206b5f6f7936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e335fa1410b45178c7e206b5f6f7936">&#9670;&nbsp;</a></span>MediaUploader</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var MediaUploader</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>(options) {</div><div class="line">  var noop = <span class="keyword">function</span>() {};</div><div class="line">  this.file = options.file;</div><div class="line">  this.contentType =</div><div class="line">    options.contentType || this.file.type || <span class="stringliteral">&quot;application/octet-stream&quot;</span>;</div><div class="line">  this.metadata = options.metadata || {</div><div class="line">    title: this.file.name,</div><div class="line">    mimeType: this.contentType,</div><div class="line">  };</div><div class="line">  this.token = options.token;</div><div class="line">  this.onComplete = options.onComplete || noop;</div><div class="line">  this.onProgress = options.onProgress || noop;</div><div class="line">  this.onError = options.onError || noop;</div><div class="line">  this.offset = options.offset || 0;</div><div class="line">  this.chunkSize = options.chunkSize || 0;</div><div class="line">  this.retryHandler = <span class="keyword">new</span> <a class="code" href="image-file-uploader_8js.html#a8163cbc03f1641d17bc72c8e339777fc">RetryHandler</a>();</div><div class="line"></div><div class="line">  this.<a class="code" href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a> = options.url;</div><div class="line">  <span class="keywordflow">if</span> (!this.<a class="code" href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a>) {</div><div class="line">    var params = options.params || {};</div><div class="line">    params.uploadType = <span class="stringliteral">&quot;resumable&quot;</span>;</div><div class="line">    this.<a class="code" href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a> = this.<a class="code" href="image-file-uploader_8js.html#aa3c70638d6d7a6cc4b8996b57f17b628">buildUrl_</a>(options.fileId, params, options.baseUrl);</div><div class="line">  }</div><div class="line">  this.httpMethod = options.fileId ? <span class="stringliteral">&quot;PUT&quot;</span> : <span class="stringliteral">&quot;POST&quot;</span>;</div><div class="line">}</div><div class="ttc" id="image-file-uploader_8js_html_aa3c70638d6d7a6cc4b8996b57f17b628"><div class="ttname"><a href="image-file-uploader_8js.html#aa3c70638d6d7a6cc4b8996b57f17b628">buildUrl_</a></div><div class="ttdeci">MediaUploader prototype buildUrl_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:503</div></div>
<div class="ttc" id="image-file-uploader_8js_html_a8163cbc03f1641d17bc72c8e339777fc"><div class="ttname"><a href="image-file-uploader_8js.html#a8163cbc03f1641d17bc72c8e339777fc">RetryHandler</a></div><div class="ttdeci">var RetryHandler</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:249</div></div>
<div class="ttc" id="oauth-server_8js_html_a2559a53ca37d96674249ead8fbf17159"><div class="ttname"><a href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a></div><div class="ttdeci">const url</div><div class="ttdef"><b>Definition:</b> oauth-server.js:20</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d0f829605bc197381ff647e73d393a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d0f829605bc197381ff647e73d393a0">&#9670;&nbsp;</a></span>nextInterval_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="image-file-uploader_8js.html#a8163cbc03f1641d17bc72c8e339777fc">RetryHandler</a> prototype nextInterval_</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>() {</div><div class="line">  var interval = this.interval * 2 + this.<a class="code" href="image-file-uploader_8js.html#aeb831c0c589369cbafd2a8a1027a0da1">getRandomInt_</a>(0, 1000);</div><div class="line">  <span class="keywordflow">return</span> Math.min(interval, this.maxInterval);</div><div class="line">}</div><div class="ttc" id="image-file-uploader_8js_html_aeb831c0c589369cbafd2a8a1027a0da1"><div class="ttname"><a href="image-file-uploader_8js.html#aeb831c0c589369cbafd2a8a1027a0da1">getRandomInt_</a></div><div class="ttdeci">RetryHandler prototype getRandomInt_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:289</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3779817ee57984150f2931d6d83fcb96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3779817ee57984150f2931d6d83fcb96">&#9670;&nbsp;</a></span>onContentUploadError_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype onContentUploadError_</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>(e) {</div><div class="line">  <span class="keywordflow">if</span> (e.target.status &amp;&amp; e.target.status &lt; 500) {</div><div class="line">    this.onError(e.target.response);</div><div class="line">  } <span class="keywordflow">else</span> {</div><div class="line">    this.retryHandler.retry(this.<a class="code" href="image-file-uploader_8js.html#adc531c45e492d90476519b6ce7ee4cc1">resume_</a>.bind(<span class="keyword">this</span>));</div><div class="line">  }</div><div class="line">}</div><div class="ttc" id="image-file-uploader_8js_html_adc531c45e492d90476519b6ce7ee4cc1"><div class="ttname"><a href="image-file-uploader_8js.html#adc531c45e492d90476519b6ce7ee4cc1">resume_</a></div><div class="ttdeci">MediaUploader prototype resume_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:409</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fa14d03e1514627905dd794a04a1de8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fa14d03e1514627905dd794a04a1de8">&#9670;&nbsp;</a></span>onContentUploadSuccess_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype onContentUploadSuccess_</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>(e) {</div><div class="line">  <span class="keywordflow">if</span> (e.target.status == 200 || e.target.status == 201) {</div><div class="line">    this.onComplete(e.target.response);</div><div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e.target.status == 308) {</div><div class="line">    this.<a class="code" href="image-file-uploader_8js.html#adb85d5b4707cc852b7ecb7ada26cb9cd">extractRange_</a>(e.target);</div><div class="line">    this.retryHandler.reset();</div><div class="line">    this.<a class="code" href="image-file-uploader_8js.html#a75c9bc5c290e18e07bec57e957cd3db6">sendFile_</a>();</div><div class="line">  } <span class="keywordflow">else</span> {</div><div class="line">    this.<a class="code" href="image-file-uploader_8js.html#a3779817ee57984150f2931d6d83fcb96">onContentUploadError_</a>(e);</div><div class="line">  }</div><div class="line">}</div><div class="ttc" id="image-file-uploader_8js_html_a75c9bc5c290e18e07bec57e957cd3db6"><div class="ttname"><a href="image-file-uploader_8js.html#a75c9bc5c290e18e07bec57e957cd3db6">sendFile_</a></div><div class="ttdeci">MediaUploader prototype sendFile_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:376</div></div>
<div class="ttc" id="image-file-uploader_8js_html_a3779817ee57984150f2931d6d83fcb96"><div class="ttname"><a href="image-file-uploader_8js.html#a3779817ee57984150f2931d6d83fcb96">onContentUploadError_</a></div><div class="ttdeci">MediaUploader prototype onContentUploadError_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:461</div></div>
<div class="ttc" id="image-file-uploader_8js_html_adb85d5b4707cc852b7ecb7ada26cb9cd"><div class="ttname"><a href="image-file-uploader_8js.html#adb85d5b4707cc852b7ecb7ada26cb9cd">extractRange_</a></div><div class="ttdeci">MediaUploader prototype extractRange_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:427</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a82fab5cd0b3d8c22b4fae78c2c5774f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82fab5cd0b3d8c22b4fae78c2c5774f7">&#9670;&nbsp;</a></span>onUploadError_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype onUploadError_</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>(e) {</div><div class="line">  this.onError(e.target.response); </div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
<a id="afd77b7a75fe5036559762bd26bf1f0a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd77b7a75fe5036559762bd26bf1f0a4">&#9670;&nbsp;</a></span>reset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="image-file-uploader_8js.html#a8163cbc03f1641d17bc72c8e339777fc">RetryHandler</a> prototype reset</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>() {</div><div class="line">  this.interval = 1000;</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
<a id="adc531c45e492d90476519b6ce7ee4cc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc531c45e492d90476519b6ce7ee4cc1">&#9670;&nbsp;</a></span>resume_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype resume_</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>() {</div><div class="line">  var xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">  xhr.open(<span class="stringliteral">&quot;PUT&quot;</span>, this.<a class="code" href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a>, <span class="keyword">true</span>);</div><div class="line">  xhr.setRequestHeader(<span class="stringliteral">&quot;Content-Range&quot;</span>, <span class="stringliteral">&quot;bytes */&quot;</span> + this.file.size);</div><div class="line">  xhr.setRequestHeader(<span class="stringliteral">&quot;X-Upload-Content-Type&quot;</span>, this.file.type);</div><div class="line">  <span class="keywordflow">if</span> (xhr.upload) {</div><div class="line">    xhr.upload.addEventListener(<span class="stringliteral">&quot;progress&quot;</span>, this.onProgress);</div><div class="line">  }</div><div class="line">  xhr.onload = this.<a class="code" href="image-file-uploader_8js.html#a2fa14d03e1514627905dd794a04a1de8">onContentUploadSuccess_</a>.bind(<span class="keyword">this</span>);</div><div class="line">  xhr.onerror = this.<a class="code" href="image-file-uploader_8js.html#a3779817ee57984150f2931d6d83fcb96">onContentUploadError_</a>.bind(<span class="keyword">this</span>);</div><div class="line">  xhr.send();</div><div class="line">}</div><div class="ttc" id="image-file-uploader_8js_html_a3779817ee57984150f2931d6d83fcb96"><div class="ttname"><a href="image-file-uploader_8js.html#a3779817ee57984150f2931d6d83fcb96">onContentUploadError_</a></div><div class="ttdeci">MediaUploader prototype onContentUploadError_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:461</div></div>
<div class="ttc" id="oauth-server_8js_html_a2559a53ca37d96674249ead8fbf17159"><div class="ttname"><a href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a></div><div class="ttdeci">const url</div><div class="ttdef"><b>Definition:</b> oauth-server.js:20</div></div>
<div class="ttc" id="image-file-uploader_8js_html_a2fa14d03e1514627905dd794a04a1de8"><div class="ttname"><a href="image-file-uploader_8js.html#a2fa14d03e1514627905dd794a04a1de8">onContentUploadSuccess_</a></div><div class="ttdeci">MediaUploader prototype onContentUploadSuccess_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:442</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a55508db5e48a48b494587d3e82848cdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55508db5e48a48b494587d3e82848cdc">&#9670;&nbsp;</a></span>retry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="image-file-uploader_8js.html#a8163cbc03f1641d17bc72c8e339777fc">RetryHandler</a> prototype retry</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>(fn) {</div><div class="line">  setTimeout(fn, this.interval);</div><div class="line">  this.interval = this.<a class="code" href="image-file-uploader_8js.html#a1d0f829605bc197381ff647e73d393a0">nextInterval_</a>();</div><div class="line">}</div><div class="ttc" id="image-file-uploader_8js_html_a1d0f829605bc197381ff647e73d393a0"><div class="ttname"><a href="image-file-uploader_8js.html#a1d0f829605bc197381ff647e73d393a0">nextInterval_</a></div><div class="ttdeci">RetryHandler prototype nextInterval_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:277</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8163cbc03f1641d17bc72c8e339777fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8163cbc03f1641d17bc72c8e339777fc">&#9670;&nbsp;</a></span>RetryHandler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var RetryHandler</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>() {</div><div class="line">  this.interval = 1000; </div><div class="line">  this.maxInterval = 60 * 1000; </div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
<a id="a75c9bc5c290e18e07bec57e957cd3db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75c9bc5c290e18e07bec57e957cd3db6">&#9670;&nbsp;</a></span>sendFile_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype sendFile_</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>() {</div><div class="line">  var content = this.file;</div><div class="line">  var end = this.file.size;</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (this.offset || this.chunkSize) {</div><div class="line">    </div><div class="line">    <span class="keywordflow">if</span> (this.chunkSize) {</div><div class="line">      end = Math.min(this.offset + this.chunkSize, this.file.size);</div><div class="line">    }</div><div class="line">    content = content.slice(this.offset, end);</div><div class="line">  }</div><div class="line"></div><div class="line">  var xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">  xhr.open(<span class="stringliteral">&quot;PUT&quot;</span>, this.<a class="code" href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a>, <span class="keyword">true</span>);</div><div class="line">  xhr.setRequestHeader(<span class="stringliteral">&quot;Content-Type&quot;</span>, this.contentType);</div><div class="line">  xhr.setRequestHeader(</div><div class="line">    <span class="stringliteral">&quot;Content-Range&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;bytes &quot;</span> + this.offset + <span class="stringliteral">&quot;-&quot;</span> + (end - 1) + <span class="stringliteral">&quot;/&quot;</span> + this.file.size</div><div class="line">  );</div><div class="line">  xhr.setRequestHeader(<span class="stringliteral">&quot;X-Upload-Content-Type&quot;</span>, this.file.type);</div><div class="line">  <span class="keywordflow">if</span> (xhr.upload) {</div><div class="line">    xhr.upload.addEventListener(<span class="stringliteral">&quot;progress&quot;</span>, this.onProgress);</div><div class="line">  }</div><div class="line">  xhr.onload = this.<a class="code" href="image-file-uploader_8js.html#a2fa14d03e1514627905dd794a04a1de8">onContentUploadSuccess_</a>.bind(<span class="keyword">this</span>);</div><div class="line">  xhr.onerror = this.<a class="code" href="image-file-uploader_8js.html#a3779817ee57984150f2931d6d83fcb96">onContentUploadError_</a>.bind(<span class="keyword">this</span>);</div><div class="line">  xhr.send(content);</div><div class="line">}</div><div class="ttc" id="image-file-uploader_8js_html_a3779817ee57984150f2931d6d83fcb96"><div class="ttname"><a href="image-file-uploader_8js.html#a3779817ee57984150f2931d6d83fcb96">onContentUploadError_</a></div><div class="ttdeci">MediaUploader prototype onContentUploadError_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:461</div></div>
<div class="ttc" id="oauth-server_8js_html_a2559a53ca37d96674249ead8fbf17159"><div class="ttname"><a href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a></div><div class="ttdeci">const url</div><div class="ttdef"><b>Definition:</b> oauth-server.js:20</div></div>
<div class="ttc" id="image-file-uploader_8js_html_a2fa14d03e1514627905dd794a04a1de8"><div class="ttname"><a href="image-file-uploader_8js.html#a2fa14d03e1514627905dd794a04a1de8">onContentUploadSuccess_</a></div><div class="ttdeci">MediaUploader prototype onContentUploadSuccess_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:442</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aba538b0921c2d62fe96e26a34000c428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba538b0921c2d62fe96e26a34000c428">&#9670;&nbsp;</a></span>upload</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="image-file-uploader_8js.html#a4e335fa1410b45178c7e206b5f6f7936">MediaUploader</a> prototype upload</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">function</span>() {</div><div class="line">  var <span class="keyword">self</span> = <span class="keyword">this</span>;</div><div class="line">  var xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line"></div><div class="line">  xhr.open(this.httpMethod, this.<a class="code" href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a>, <span class="keyword">true</span>);</div><div class="line">  xhr.setRequestHeader(<span class="stringliteral">&quot;Authorization&quot;</span>, <span class="stringliteral">&quot;Bearer &quot;</span> + this.token);</div><div class="line">  xhr.setRequestHeader(<span class="stringliteral">&quot;Content-Type&quot;</span>, <span class="stringliteral">&quot;application/json&quot;</span>);</div><div class="line">  xhr.setRequestHeader(<span class="stringliteral">&quot;X-Upload-Content-Length&quot;</span>, this.file.size);</div><div class="line">  xhr.setRequestHeader(<span class="stringliteral">&quot;X-Upload-Content-Type&quot;</span>, this.contentType);</div><div class="line"></div><div class="line">  xhr.onload = <span class="keyword">function</span>(e) {</div><div class="line">    <span class="keywordflow">if</span> (e.target.status &lt; 400) {</div><div class="line">      var location = e.target.getResponseHeader(<span class="stringliteral">&quot;Location&quot;</span>);</div><div class="line">      this.<a class="code" href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a> = location;</div><div class="line">      this.<a class="code" href="image-file-uploader_8js.html#a75c9bc5c290e18e07bec57e957cd3db6">sendFile_</a>();</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">      this.<a class="code" href="image-file-uploader_8js.html#a82fab5cd0b3d8c22b4fae78c2c5774f7">onUploadError_</a>(e);</div><div class="line">    }</div><div class="line">  }.bind(<span class="keyword">this</span>);</div><div class="line">  xhr.onerror = this.<a class="code" href="image-file-uploader_8js.html#a82fab5cd0b3d8c22b4fae78c2c5774f7">onUploadError_</a>.bind(<span class="keyword">this</span>);</div><div class="line">  xhr.send(JSON.stringify(<span class="keyword">this</span>.metadata));</div><div class="line">}</div><div class="ttc" id="image-file-uploader_8js_html_a82fab5cd0b3d8c22b4fae78c2c5774f7"><div class="ttname"><a href="image-file-uploader_8js.html#a82fab5cd0b3d8c22b4fae78c2c5774f7">onUploadError_</a></div><div class="ttdeci">MediaUploader prototype onUploadError_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:475</div></div>
<div class="ttc" id="image-file-uploader_8js_html_a75c9bc5c290e18e07bec57e957cd3db6"><div class="ttname"><a href="image-file-uploader_8js.html#a75c9bc5c290e18e07bec57e957cd3db6">sendFile_</a></div><div class="ttdeci">MediaUploader prototype sendFile_</div><div class="ttdef"><b>Definition:</b> image-file-uploader.js:376</div></div>
<div class="ttc" id="oauth-server_8js_html_a2559a53ca37d96674249ead8fbf17159"><div class="ttname"><a href="oauth-server_8js.html#a2559a53ca37d96674249ead8fbf17159">url</a></div><div class="ttdeci">const url</div><div class="ttdef"><b>Definition:</b> oauth-server.js:20</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d8f55a4673d676fbcbccbf823850bb08.html">webcomponents</a></li><li class="navelem"><a class="el" href="dir_f34aba7d286f893533984edfd0213acd.html">src</a></li><li class="navelem"><a class="el" href="image-file-uploader_8js.html">image-file-uploader.js</a></li>
  </ul>
</div>
</body>
</html>
