<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MakerLabs ACM: firmware/esp32-network-lib/sh2lib/sh2lib.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="https://unpkg.com/mermaid@8.0.0/dist/mermaid.min.js"></script>
<script>
  mermaid.initialize({
    startOnLoad: true,
    flowchart:{
      useMaxWidth: true,
      htmlLabels: true,
    },
  });
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MakerLabs ACM
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sh2lib_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sh2lib.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="esp__tls_8h_source.html">esp_tls.h</a>&quot;</code><br />
<code>#include &lt;nghttp2/nghttp2.h&gt;</code><br />
</div>
<p><a href="sh2lib_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsh2lib__handle.html">sh2lib_handle</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle for working with sh2lib APIs.  <a href="structsh2lib__handle.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsh2lib__callbacks.html">sh2lib_callbacks</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6a8b97e85936674fc32ab3d96a570af1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#a6a8b97e85936674fc32ab3d96a570af1">DATA_RECV_RST_STREAM</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a6a8b97e85936674fc32ab3d96a570af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4a8923c0370ba5d5d6874ffb24aa8d4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#af4a8923c0370ba5d5d6874ffb24aa8d4">DATA_RECV_FRAME_COMPLETE</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:af4a8923c0370ba5d5d6874ffb24aa8d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c7fe89ee515363a69819d48e584cb9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#a95c7fe89ee515363a69819d48e584cb9">SH2LIB_MAKE_NV</a>(NAME,  VALUE,  FLAGS)</td></tr>
<tr class="separator:a95c7fe89ee515363a69819d48e584cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9e7263410a2985ad6ceb7ca5f678a75d"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#a9e7263410a2985ad6ceb7ca5f678a75d">sh2lib_frame_data_header_cb_t</a>) (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *<a class="el" href="u8g2__esp32__hal_8cpp.html#ae280e9f4670c46b616127091ed042b7c">handle</a>, const char *name, size_t namelen, const char *value, size_t valuelen, int flags)</td></tr>
<tr class="memdesc:a9e7263410a2985ad6ceb7ca5f678a75d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_function.html">Function</a> Prototype for data receive callback.  <a href="#a9e7263410a2985ad6ceb7ca5f678a75d">More...</a><br /></td></tr>
<tr class="separator:a9e7263410a2985ad6ceb7ca5f678a75d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a377939338ad7d410bf6c35c602c7359c"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#a377939338ad7d410bf6c35c602c7359c">sh2lib_frame_data_recv_cb_t</a>) (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *<a class="el" href="u8g2__esp32__hal_8cpp.html#ae280e9f4670c46b616127091ed042b7c">handle</a>, const char *data, size_t len, int flags)</td></tr>
<tr class="separator:a377939338ad7d410bf6c35c602c7359c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98113c28f3a0847a5aba195338ad814a"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#a98113c28f3a0847a5aba195338ad814a">sh2lib_putpost_data_cb_t</a>) (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *<a class="el" href="u8g2__esp32__hal_8cpp.html#ae280e9f4670c46b616127091ed042b7c">handle</a>, char *data, size_t len, uint32_t *data_flags)</td></tr>
<tr class="memdesc:a98113c28f3a0847a5aba195338ad814a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_function.html">Function</a> Prototype for callback to send data in PUT/POST.  <a href="#a98113c28f3a0847a5aba195338ad814a">More...</a><br /></td></tr>
<tr class="separator:a98113c28f3a0847a5aba195338ad814a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a350dcb1b2ad1b16e9b47f8f4c2917f39"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#a350dcb1b2ad1b16e9b47f8f4c2917f39">sh2lib_connect</a> (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *hd, const char *uri, mbedtls_x509_crt *cacerts)</td></tr>
<tr class="memdesc:a350dcb1b2ad1b16e9b47f8f4c2917f39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to a URI using HTTP/2.  <a href="#a350dcb1b2ad1b16e9b47f8f4c2917f39">More...</a><br /></td></tr>
<tr class="separator:a350dcb1b2ad1b16e9b47f8f4c2917f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee7d527030a0becf4dac5c33226c5bad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#aee7d527030a0becf4dac5c33226c5bad">sh2lib_free</a> (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *hd)</td></tr>
<tr class="memdesc:aee7d527030a0becf4dac5c33226c5bad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a sh2lib handle.  <a href="#aee7d527030a0becf4dac5c33226c5bad">More...</a><br /></td></tr>
<tr class="separator:aee7d527030a0becf4dac5c33226c5bad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83606f1bbdea8f5e2e64f3741efa3ea2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#a83606f1bbdea8f5e2e64f3741efa3ea2">sh2lib_do_get</a> (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *hd, const char *path, <a class="el" href="structsh2lib__callbacks.html">sh2lib_callbacks</a> *callbacks)</td></tr>
<tr class="memdesc:a83606f1bbdea8f5e2e64f3741efa3ea2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup an HTTP GET request stream.  <a href="#a83606f1bbdea8f5e2e64f3741efa3ea2">More...</a><br /></td></tr>
<tr class="separator:a83606f1bbdea8f5e2e64f3741efa3ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39b30413270690e7dab9330e0dfabea9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#a39b30413270690e7dab9330e0dfabea9">sh2lib_do_post</a> (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *hd, const char *path, <a class="el" href="structsh2lib__callbacks.html">sh2lib_callbacks</a> *callbacks)</td></tr>
<tr class="memdesc:a39b30413270690e7dab9330e0dfabea9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup an HTTP POST request stream.  <a href="#a39b30413270690e7dab9330e0dfabea9">More...</a><br /></td></tr>
<tr class="separator:a39b30413270690e7dab9330e0dfabea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c9af23225229ad99397c25d12bf855c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#a3c9af23225229ad99397c25d12bf855c">sh2lib_do_put</a> (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *hd, const char *path, <a class="el" href="structsh2lib__callbacks.html">sh2lib_callbacks</a> *callbacks)</td></tr>
<tr class="memdesc:a3c9af23225229ad99397c25d12bf855c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup an HTTP PUT request stream.  <a href="#a3c9af23225229ad99397c25d12bf855c">More...</a><br /></td></tr>
<tr class="separator:a3c9af23225229ad99397c25d12bf855c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a95dee2ff38009ba63a40c6ca959a01"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#a6a95dee2ff38009ba63a40c6ca959a01">sh2lib_execute</a> (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *hd)</td></tr>
<tr class="memdesc:a6a95dee2ff38009ba63a40c6ca959a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute send/receive on an HTTP/2 connection.  <a href="#a6a95dee2ff38009ba63a40c6ca959a01">More...</a><br /></td></tr>
<tr class="separator:a6a95dee2ff38009ba63a40c6ca959a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2272c58a25964cf854926b7f4d33ca2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#ac2272c58a25964cf854926b7f4d33ca2">sh2lib_do_get_with_nv</a> (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *hd, const nghttp2_nv *nva, size_t nvlen, <a class="el" href="structsh2lib__callbacks.html">sh2lib_callbacks</a> *callbacks)</td></tr>
<tr class="memdesc:ac2272c58a25964cf854926b7f4d33ca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup an HTTP GET request stream with custom name-value pairs.  <a href="#ac2272c58a25964cf854926b7f4d33ca2">More...</a><br /></td></tr>
<tr class="separator:ac2272c58a25964cf854926b7f4d33ca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2437a5a07ad4cc4e06dcc7acb8bb41d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sh2lib_8h.html#a2437a5a07ad4cc4e06dcc7acb8bb41d4">sh2lib_do_putpost_with_nv</a> (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *hd, const nghttp2_nv *nva, size_t nvlen, <a class="el" href="structsh2lib__callbacks.html">sh2lib_callbacks</a> *callbacks)</td></tr>
<tr class="memdesc:a2437a5a07ad4cc4e06dcc7acb8bb41d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup an HTTP PUT/POST request stream with custom name-value pairs.  <a href="#a2437a5a07ad4cc4e06dcc7acb8bb41d4">More...</a><br /></td></tr>
<tr class="separator:a2437a5a07ad4cc4e06dcc7acb8bb41d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af4a8923c0370ba5d5d6874ffb24aa8d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4a8923c0370ba5d5d6874ffb24aa8d4">&#9670;&nbsp;</a></span>DATA_RECV_FRAME_COMPLETE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DATA_RECV_FRAME_COMPLETE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag indicating frame is completely received </p>

</div>
</div>
<a id="a6a8b97e85936674fc32ab3d96a570af1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a8b97e85936674fc32ab3d96a570af1">&#9670;&nbsp;</a></span>DATA_RECV_RST_STREAM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DATA_RECV_RST_STREAM&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag indicating receive stream is reset </p>

</div>
</div>
<a id="a95c7fe89ee515363a69819d48e584cb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95c7fe89ee515363a69819d48e584cb9">&#9670;&nbsp;</a></span>SH2LIB_MAKE_NV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SH2LIB_MAKE_NV</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">NAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">VALUE, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FLAGS&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                                           \</div><div class="line">    (uint8_t *)NAME, (uint8_t *)VALUE, strlen(NAME), strlen(VALUE), FLAGS     \</div><div class="line">  }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a9e7263410a2985ad6ceb7ca5f678a75d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e7263410a2985ad6ceb7ca5f678a75d">&#9670;&nbsp;</a></span>sh2lib_frame_data_header_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* sh2lib_frame_data_header_cb_t) (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *<a class="el" href="u8g2__esp32__hal_8cpp.html#ae280e9f4670c46b616127091ed042b7c">handle</a>, const char *name, size_t namelen, const char *value, size_t valuelen, int flags)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="struct_function.html">Function</a> Prototype for data receive callback. </p>
<p>This function gets called whenever data is received on any stream. The function is also called for indicating events like frame receive complete, or end of stream. The function may get called multiple times as long as data is received on the stream.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Pointer to the sh2lib handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to a buffer that contains the data received. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>The length of valid data stored at the 'data' pointer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Flags indicating whether the stream is reset (DATA_RECV_RST_STREAM) or this particularly frame is completely received DATA_RECV_FRAME_COMPLETE).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function should return 0 </dd></dl>

</div>
</div>
<a id="a377939338ad7d410bf6c35c602c7359c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a377939338ad7d410bf6c35c602c7359c">&#9670;&nbsp;</a></span>sh2lib_frame_data_recv_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* sh2lib_frame_data_recv_cb_t) (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *<a class="el" href="u8g2__esp32__hal_8cpp.html#ae280e9f4670c46b616127091ed042b7c">handle</a>, const char *data, size_t len, int flags)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a98113c28f3a0847a5aba195338ad814a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98113c28f3a0847a5aba195338ad814a">&#9670;&nbsp;</a></span>sh2lib_putpost_data_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* sh2lib_putpost_data_cb_t) (struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *<a class="el" href="u8g2__esp32__hal_8cpp.html#ae280e9f4670c46b616127091ed042b7c">handle</a>, char *data, size_t len, uint32_t *data_flags)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="struct_function.html">Function</a> Prototype for callback to send data in PUT/POST. </p>
<p>This function gets called whenever nghttp2 wishes to send data, like for PUT/POST requests to the server. The function keeps getting called until this function sets the flag NGHTTP2_DATA_FLAG_EOF to indicate end of data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Pointer to the sh2lib handle. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>Pointer to a buffer that should contain the data to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>The maximum length of data that can be sent out by this function. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data_flags</td><td>Pointer to the data flags. The NGHTTP2_DATA_FLAG_EOF should be set in the data flags to indicate end of new data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function should return the number of valid bytes stored in the data pointer </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a350dcb1b2ad1b16e9b47f8f4c2917f39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a350dcb1b2ad1b16e9b47f8f4c2917f39">&#9670;&nbsp;</a></span>sh2lib_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sh2lib_connect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *&#160;</td>
          <td class="paramname"><em>hd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mbedtls_x509_crt *&#160;</td>
          <td class="paramname"><em>cacerts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to a URI using HTTP/2. </p>
<p>This API opens an HTTP/2 connection with the provided URI. If successful, the hd pointer is populated with a valid handle for subsequent communication.</p>
<p>Only 'https' URIs are supported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">hd</td><td>Pointer to a variable of the type 'struct <a class="el" href="structsh2lib__handle.html" title="Handle for working with sh2lib APIs.">sh2lib_handle</a>'. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uri</td><td>Pointer to the URI that should be connected to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>ESP_OK if the connection was successful</li>
<li>ESP_FAIL if the connection fails </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a83606f1bbdea8f5e2e64f3741efa3ea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83606f1bbdea8f5e2e64f3741efa3ea2">&#9670;&nbsp;</a></span>sh2lib_do_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sh2lib_do_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *&#160;</td>
          <td class="paramname"><em>hd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsh2lib__callbacks.html">sh2lib_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup an HTTP GET request stream. </p>
<p>This API sets up an HTTP GET request to be sent out to the server. A new stream is created for handling the request. Once the request is setup, the API <a class="el" href="sh2lib_8h.html#a6a95dee2ff38009ba63a40c6ca959a01" title="Execute send/receive on an HTTP/2 connection.">sh2lib_execute()</a> must be called to actually perform the socket I/O with the server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hd</td><td>Pointer to a variable of the type 'struct <a class="el" href="structsh2lib__handle.html" title="Handle for working with sh2lib APIs.">sh2lib_handle</a>'. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>Pointer to the string that contains the resource to perform the HTTP GET operation on (for example, /users). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recv_cb</td><td>The callback function that should be called for processing the request's response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>ESP_OK if request setup is successful</li>
<li>ESP_FAIL if the request setup fails </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ac2272c58a25964cf854926b7f4d33ca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2272c58a25964cf854926b7f4d33ca2">&#9670;&nbsp;</a></span>sh2lib_do_get_with_nv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sh2lib_do_get_with_nv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *&#160;</td>
          <td class="paramname"><em>hd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const nghttp2_nv *&#160;</td>
          <td class="paramname"><em>nva</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nvlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsh2lib__callbacks.html">sh2lib_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup an HTTP GET request stream with custom name-value pairs. </p>
<p>For a simpler version of the API, please refer to <a class="el" href="sh2lib_8h.html#a83606f1bbdea8f5e2e64f3741efa3ea2" title="Setup an HTTP GET request stream.">sh2lib_do_get()</a>.</p>
<p>This API sets up an HTTP GET request to be sent out to the server. A new stream is created for handling the request. Once the request is setup, the API <a class="el" href="sh2lib_8h.html#a6a95dee2ff38009ba63a40c6ca959a01" title="Execute send/receive on an HTTP/2 connection.">sh2lib_execute()</a> must be called to actually perform the socket I/O with the server.</p>
<p>Please note that the following name value pairs MUST be a part of the request</p><ul>
<li>name:value</li>
<li>":method":"GET"</li>
<li>":scheme":"https"</li>
<li>":path":&lt;the-path-for-the-GET-operation&gt; (for example, /users)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hd</td><td>Pointer to a variable of the type 'struct <a class="el" href="structsh2lib__handle.html" title="Handle for working with sh2lib APIs.">sh2lib_handle</a>'. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nva</td><td>An array of name-value pairs that should be part of the request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nvlen</td><td>The number of elements in the array pointed to by 'nva'. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recv_cb</td><td>The callback function that should be called for processing the request's response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>ESP_OK if request setup is successful</li>
<li>ESP_FAIL if the request setup fails </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a39b30413270690e7dab9330e0dfabea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39b30413270690e7dab9330e0dfabea9">&#9670;&nbsp;</a></span>sh2lib_do_post()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sh2lib_do_post </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *&#160;</td>
          <td class="paramname"><em>hd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsh2lib__callbacks.html">sh2lib_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup an HTTP POST request stream. </p>
<p>This API sets up an HTTP POST request to be sent out to the server. A new stream is created for handling the request. Once the request is setup, the API <a class="el" href="sh2lib_8h.html#a6a95dee2ff38009ba63a40c6ca959a01" title="Execute send/receive on an HTTP/2 connection.">sh2lib_execute()</a> must be called to actually perform the socket I/O with the server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hd</td><td>Pointer to a variable of the type 'struct <a class="el" href="structsh2lib__handle.html" title="Handle for working with sh2lib APIs.">sh2lib_handle</a>'. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>Pointer to the string that contains the resource to perform the HTTP POST operation on (for example, /users). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">send_cb</td><td>The callback function that should be called for sending data as part of this request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recv_cb</td><td>The callback function that should be called for processing the request's response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>ESP_OK if request setup is successful</li>
<li>ESP_FAIL if the request setup fails </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a3c9af23225229ad99397c25d12bf855c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c9af23225229ad99397c25d12bf855c">&#9670;&nbsp;</a></span>sh2lib_do_put()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sh2lib_do_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *&#160;</td>
          <td class="paramname"><em>hd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsh2lib__callbacks.html">sh2lib_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup an HTTP PUT request stream. </p>
<p>This API sets up an HTTP PUT request to be sent out to the server. A new stream is created for handling the request. Once the request is setup, the API <a class="el" href="sh2lib_8h.html#a6a95dee2ff38009ba63a40c6ca959a01" title="Execute send/receive on an HTTP/2 connection.">sh2lib_execute()</a> must be called to actually perform the socket I/O with the server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hd</td><td>Pointer to a variable of the type 'struct <a class="el" href="structsh2lib__handle.html" title="Handle for working with sh2lib APIs.">sh2lib_handle</a>'. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>Pointer to the string that contains the resource to perform the HTTP PUT operation on (for example, /users). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">send_cb</td><td>The callback function that should be called for sending data as part of this request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recv_cb</td><td>The callback function that should be called for processing the request's response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>ESP_OK if request setup is successful</li>
<li>ESP_FAIL if the request setup fails </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a2437a5a07ad4cc4e06dcc7acb8bb41d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2437a5a07ad4cc4e06dcc7acb8bb41d4">&#9670;&nbsp;</a></span>sh2lib_do_putpost_with_nv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sh2lib_do_putpost_with_nv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *&#160;</td>
          <td class="paramname"><em>hd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const nghttp2_nv *&#160;</td>
          <td class="paramname"><em>nva</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nvlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsh2lib__callbacks.html">sh2lib_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup an HTTP PUT/POST request stream with custom name-value pairs. </p>
<p>For a simpler version of the API, please refer to <a class="el" href="sh2lib_8h.html#a3c9af23225229ad99397c25d12bf855c" title="Setup an HTTP PUT request stream.">sh2lib_do_put()</a> or <a class="el" href="sh2lib_8h.html#a39b30413270690e7dab9330e0dfabea9" title="Setup an HTTP POST request stream.">sh2lib_do_post()</a>.</p>
<p>This API sets up an HTTP PUT/POST request to be sent out to the server. A new stream is created for handling the request. Once the request is setup, the API <a class="el" href="sh2lib_8h.html#a6a95dee2ff38009ba63a40c6ca959a01" title="Execute send/receive on an HTTP/2 connection.">sh2lib_execute()</a> must be called to actually perform the socket I/O with the server.</p>
<p>Please note that the following name value pairs MUST be a part of the request</p><ul>
<li>name:value</li>
<li>":method":"PUT" (or POST)</li>
<li>":scheme":"https"</li>
<li>":path":&lt;the-path-for-the-PUT-operation&gt; (for example, /users)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hd</td><td>Pointer to a variable of the type 'struct <a class="el" href="structsh2lib__handle.html" title="Handle for working with sh2lib APIs.">sh2lib_handle</a>'. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nva</td><td>An array of name-value pairs that should be part of the request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nvlen</td><td>The number of elements in the array pointed to by 'nva'. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">send_cb</td><td>The callback function that should be called for sending data as part of this request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recv_cb</td><td>The callback function that should be called for processing the request's response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>ESP_OK if request setup is successful</li>
<li>ESP_FAIL if the request setup fails </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a6a95dee2ff38009ba63a40c6ca959a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a95dee2ff38009ba63a40c6ca959a01">&#9670;&nbsp;</a></span>sh2lib_execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sh2lib_execute </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *&#160;</td>
          <td class="paramname"><em>hd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute send/receive on an HTTP/2 connection. </p>
<p>While the API <a class="el" href="sh2lib_8h.html#a83606f1bbdea8f5e2e64f3741efa3ea2" title="Setup an HTTP GET request stream.">sh2lib_do_get()</a>, <a class="el" href="sh2lib_8h.html#a39b30413270690e7dab9330e0dfabea9" title="Setup an HTTP POST request stream.">sh2lib_do_post()</a> setup the requests to be initiated with the server, this API performs the actual data send/receive operations on the HTTP/2 connection. The callback functions are accordingly called during the processing of these requests.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hd</td><td>Pointer to a variable of the type 'struct <a class="el" href="structsh2lib__handle.html" title="Handle for working with sh2lib APIs.">sh2lib_handle</a>'</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>ESP_OK if the connection was successful</li>
<li>ESP_FAIL if the connection fails </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aee7d527030a0becf4dac5c33226c5bad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee7d527030a0becf4dac5c33226c5bad">&#9670;&nbsp;</a></span>sh2lib_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sh2lib_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsh2lib__handle.html">sh2lib_handle</a> *&#160;</td>
          <td class="paramname"><em>hd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a sh2lib handle. </p>
<p>This API frees-up an sh2lib handle, thus closing any open connections that may be associated with this handle, and freeing up any resources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hd</td><td>Pointer to a variable of the type 'struct <a class="el" href="structsh2lib__handle.html" title="Handle for working with sh2lib APIs.">sh2lib_handle</a>'. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d9edf6c004b4a7ff14fe9ae7a92214ee.html">firmware</a></li><li class="navelem"><a class="el" href="dir_802239eaa48a9242d628b7e3efd66382.html">esp32-network-lib</a></li><li class="navelem"><a class="el" href="dir_a4b6d43a37461fad1d80bedbcb87174d.html">sh2lib</a></li><li class="navelem"><a class="el" href="sh2lib_8h.html">sh2lib.h</a></li>
  </ul>
</div>
</body>
</html>
