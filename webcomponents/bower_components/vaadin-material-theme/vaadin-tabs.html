<link rel="import" href="font-icons.html">
<link rel="import" href="color.html">
<link rel="import" href="typography.html">

<link rel="import" href="../vaadin-tabs/src/vaadin-tabs.html">
<link rel="import" href="vaadin-tab.html">

<dom-module id="material-tabs" theme-for="vaadin-tabs">
  <template>
    <style>
      :host {
        -webkit-tap-highlight-color: transparent;
      }

      :host {
        box-shadow: inset 0 -1px 0 0 var(--material-background-color);
        position: relative;
        min-height: 48px;
        display: flex;
      }

      :host(:not([theme~="fixed"])) [part="tabs"] ::slotted(vaadin-tab) {
        justify-content: center;
        margin: 0;
        min-width: 160px;
        max-width: 264px;
      }

      :host([theme~="fixed"]) [part="tabs"] ::slotted(vaadin-tab) {
        justify-content: center;
        margin: 0;
        flex: 1;
        min-width: 72px;
        max-width: 264px;
      }

      :host([theme~="fixed"]) [part="tabs"] ::slotted(vaadin-tab:first-child) {
        margin-left: auto;
      }

      :host([theme~="fixed"]) [part="tabs"] ::slotted(vaadin-tab:last-child) {
        margin-right: auto;
      }

      [part="forward-button"],
      [part="back-button"] {
        position: absolute;
        z-index: 1;
        font-family: valo-icons;
        color: var(--material-secondary-text-color);
        font-size: 1.5em;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 1.5em;
        height: 100%;
        transition: 0.2s opacity;
        top: 0;
      }

      [part="forward-button"]:hover,
      [part="back-button"]:hover {
        color: inherit;
      }

      [part="forward-button"] {
        right: 0;
      }

      [part="forward-button"]::after {
        content: "\e906";
      }

      [part="back-button"]::after {
        content: "\e903";
      }

      :host([theme="fixed"]) [part="forward-button"] {
        display: none;
      }

      :host([theme="fixed"]) [part="back-button"] {
        display: none;
      }

      /* Tabs overflow */

      [part="tabs"] {
        --_material-tabs-overflow-mask-image: none;
        -webkit-mask-image: var(--_material-tabs-overflow-mask-image);
        mask-image: var(--_material-tabs-overflow-mask-image);
        /* For IE11 */
        min-height: 44px;
      }

      /* Horizontal tabs overflow */

      /* Both ends overflowing */
      :host(:not([theme="fixed"])[overflow~="start"][overflow~="end"]) [part="tabs"] {
        --_material-tabs-overflow-mask-image: linear-gradient(90deg, transparent 2em, #000 4em, #000 calc(100% - 4em), transparent calc(100% - 2em));
      }

      /* End overflowing */
      :host(:not([theme="fixed"])[overflow~="end"]) [part="tabs"] {
        --_material-tabs-overflow-mask-image: linear-gradient(90deg, #000 calc(100% - 4em), transparent calc(100% - 2em));
      }

      /* Start overflowing */
      :host(:not([theme="fixed"])[overflow~="start"]) [part="tabs"] {
        --_material-tabs-overflow-mask-image: linear-gradient(90deg, transparent 2em, #000 4em);
      }

      :host ::slotted(:not(vaadin-tab)) {
        margin-left: 16px;
      }

      /* No-button theme */
      :host([theme~="hide-scroll-buttons"]) [part="back-button"],
      :host([theme~="hide-scroll-buttons"]) [part="forward-button"] {
        display: none;
      }

      :host([theme~="hide-scroll-buttons"][overflow~="start"][overflow~="end"]) [part="tabs"] {
        --_material-tabs-overflow-mask-image: linear-gradient(90deg, transparent, #000 2em, #000 calc(100% - 2em), transparent 100%);
      }

      :host([theme~="hide-scroll-buttons"][overflow~="end"]) [part="tabs"] {
        --_material-tabs-overflow-mask-image: linear-gradient(90deg, #000 calc(100% - 2em), transparent 100%);
      }

      :host([theme~="hide-scroll-buttons"][overflow~="start"]) [part="tabs"] {
        --_material-tabs-overflow-mask-image: linear-gradient(90deg, transparent, #000 2em);
      }

    </style>
  </template>
</dom-module>
