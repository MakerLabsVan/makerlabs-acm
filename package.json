{
  "name": "makerlabs-acm",
  "version": "0.0.1",
  "description": "MakerLabs Access Control Management (ACM) System",
  "license": "MIT",
  "scripts": {
    "deps": "(command -v yarn >/dev/null || brew install yarn) && (command -v caddy >/dev/null || brew install caddy) && (command -v cmake >/dev/null || brew install cmake) && (command -v jq >/dev/null || brew install jq) && (command -v ninja >/dev/null || brew install ninja) && (command -v python2 >/dev/null || brew install python2) && (command -v gdrive >/dev/null || brew install gdrive) && (command -v git-crypt >/dev/null || brew install git-crypt) && (command -v flatc >/dev/null || brew install flatbuffers --head) && (python firmware/esp-idf/tools/check_python_dependencies.py || python -m pip install --user -r firmware/esp-idf/requirements.txt)",
    "docs": "rm -r docs/* && doxygen _docs/Doxyfile && cp electrical/*_BOM.csv docs/",
    "toolchain": "command -v xtensa-esp32-elf-gcc >/dev/null || (cd firmware && (ls xtensa-esp32-elf 2>/dev/null || (ls xtensa-esp32-elf-osx-1.22.0-80-g6c4433a-5.2.0.tar.gz 2>/dev/null || curl -LO https://dl.espressif.com/dl/xtensa-esp32-elf-osx-1.22.0-80-g6c4433a-5.2.0.tar.gz) && tar -xf xtensa-esp32-elf-osx-1.22.0-80-g6c4433a-5.2.0.tar.gz) && cd - && ln -sf `pwd`/firmware/xtensa-esp32-elf/bin/* node_modules/.bin)",
    "postinstall": "yarn deps && yarn toolchain && cd \"functions\" && yarn install --ignore-engines && cd - && cd \"scripts\" && yarn install && cd - && cd \"webcomponents\" && yarn install && cd -",
    "firmware": "cd \"firmware\" && ../bin/run_firmware_for_machine.sh",
    "token.test": "ACM_CONFIG_FILE=config.test.yml ./bin/oauth-server.js",
    "token.production": "ACM_CONFIG_FILE=config.production.yml ./bin/oauth-server.js",
    "build.test:webcomponents": "cd \"webcomponents\" && yarn build.test",
    "build.test:functions": "cd \"functions\" && yarn build",
    "build.test:scripts": "cd \"scripts\" && yarn scriptId.test",
    "build.production:webcomponents": "cd \"webcomponents\" && yarn build.production",
    "build.production:functions": "cd \"functions\" && yarn build",
    "build.production:scripts": "cd \"scripts\" && yarn scriptId.production",
    "build.test": "yarn run-p --print-label build.test:*",
    "build.production": "yarn run-p --print-label build.production:*",
    "deploy.test:webcomponents": "cd \"webcomponents\" && yarn deploy.test",
    "deploy.test:functions": "cd \"functions\" && yarn deploy.test",
    "deploy.test:scripts": "cd \"scripts\" && yarn deploy.test",
    "deploy.production:webcomponents": "cd \"webcomponents\" && yarn deploy.production",
    "deploy.production:functions": "cd \"functions\" && yarn deploy.production",
    "deploy.production:scripts": "cd \"scripts\" && yarn deploy.production",
    "deploy.test": "yarn run-p --print-label deploy.test:*",
    "deploy.production": "yarn run-p --print-label deploy.production:*"
  },
  "devDependencies": {
    "firebase-tools": "^4.2.1",
    "google-auth-library": "^3.1.0",
    "js-yaml": "^3.12.1",
    "node-fetch": "^2.3.0",
    "opn": "^5.4.0",
    "server-destroy": "^1.0.1",
    "yarn-run-all": "^3.1.1"
  },
  "private": true
}
